# Cognitive Cities Foundry

An advanced distributed cognition system that treats the entire network as a Large Language Model (LLM) with tensor bundle channel multiplexing, namespace event loops, and topological partition resolution.

## 🌟 What is the Cognitive Cities Foundry?

The Cognitive Cities Foundry represents the pinnacle of Plan 9's distributed cognition architecture, implementing:

- **Tensor Bundle Channel Multiplexing**: Advanced multi-dimensional data routing across cognitive channels
- **Namespace Event Loops**: Transformer-like activation functions distributed across network namespaces  
- **Network Hypergraph Queries**: Graph-based representation and querying of network topology
- **Hopf Fibration Resolution**: Topological methods for resolving namespace partition conflicts
- **YACC-based Cognitive Grammar**: Natural language interface for network manipulation
- **Zero-Security Execution**: Unrestricted cognitive environments for maximum flexibility
- **Interactive Chat Interface**: Natural language control of the entire cognitive infrastructure

## 🏗️ Architecture

### Core Components

1. **CognitiveCity**: The main orchestrator containing all subsystems
2. **TensorBundle**: Multi-dimensional data structures with channel multiplexing
3. **NamespaceEventLoop**: Event-driven processing with transformer activations
4. **NetworkHypergraph**: Network topology representation and analysis
5. **InferenceEngine**: Core reasoning system with cognitive grammar parsing
6. **HopfFibration**: Topological conflict resolution for namespace partitions

### Advanced Features

- **Multi-scale Architecture**: Operates across base spaces (3D) and fiber spaces (2D)
- **Non-crossing Partitions**: Ensures topologically valid namespace divisions
- **Dynamic Resource Optimization**: Real-time cognitive density analysis
- **Grammar-driven Control**: YACC parser for complex command interpretation

## 🚀 Building and Running

### Prerequisites
- GCC compiler
- yacc (or bison)
- pthread library
- math library (libm)

### Build Commands

```bash
# Build the main system
make

# Build and run safe demo (recommended)
make demo-safe

# Build and run full demo with threading
make demo

# Clean build artifacts
make clean

# Show help
make help
```

### Running the Safe Demo

The safe demo version demonstrates all functionality without complex threading:

```bash
./cogcity-safe
```

This will run through all the cognitive cities capabilities including:
- Tensor bundle multiplexing demonstrations
- Network hypergraph operations
- Cognitive grammar parsing
- Inference engine reasoning
- Hopf fibration topology resolution
- Resource optimization
- Zero-security execution
- Interactive cognitive interface simulation

## 🌊 AtomSpace Reservoir Computing

The system now includes a sophisticated reservoir computing implementation using Echo State Networks (ESN) integrated with the AtomSpace. This enables cognitive pattern processing and prediction using reservoir dynamics.

### Echo State Network Features

- **Configurable Architecture**: Input size, reservoir size, output size, spectral radius
- **Reservoir Dynamics**: Recurrent neural network with leaky integration
- **Training Capability**: Linear regression for output weight optimization
- **AtomSpace Integration**: Direct processing of cognitive atoms and patterns
- **Pattern Recognition**: Learning from atom interactions and relationships

### Usage Examples

```bash
# Run reservoir computing demo
./cogcity -r -c "ReservoirCity"

# Build and run reservoir demo
make demo-reservoir

# OpenCog integration with reservoir computing
./cogcity -o -c "OpenCogCity"
```

### Implementation Details

- **Input Encoding**: Atoms encoded as feature vectors (type, outgoing count, truth values, attention values)
- **Reservoir State**: 50-neuron recurrent network with spectral radius control
- **Training**: Learn from AtomSpace interactions to predict atom behavior
- **Prediction**: Generate predictions for atom state evolution and relationships


The system uses a YACC-based grammar for natural language interaction:

### Supported Commands

```
query hypergraph [target]          - Analyze network structure
modify namespace partition [name]  - Restructure namespace divisions
tensor multiplex channel [name]    - Route tensor data across channels
create inference reasoning [process] - Initialize reasoning processes
chat "message"                     - Broadcast to cognitive network
optimize resources [in namespace]  - Perform resource optimization
optimize zero-security execution environment - Configure unrestricted execution
```

### Example Session

```
🏙️ NeoTokyo> query hypergraph connectivity
🔍 Analyzing network connectivity...
  Total connections: 42

🏙️ NeoTokyo> tensor multiplex channel cognitive_layer
📡 Multiplexing tensor bundle channels: cognitive_layer

🏙️ NeoTokyo> chat "What is the current cognitive density?"
💬 Broadcasting: What is the current cognitive density?
   Response: Cognitive density: 0.87 across 3 active namespaces
```

## 🎯 Technical Highlights

### Tensor Bundle Operations
- 8-dimensional and 16-dimensional tensor spaces
- 4-8 channel multiplexing per bundle
- Real-time transformation matrix applications
- Cross-channel data routing and aggregation

### Network Hypergraph
- Dynamic node and edge management
- Connectivity analysis and topology queries
- Real-time structure modifications
- Graph-theoretic network analysis

### Hopf Fibration Mathematics
- Base space: 3-dimensional coordinate system
- Fiber space: 2-dimensional projection system
- Total space: 5-dimensional combined topology
- Non-crossing partition validation

### Inference Engine
- Confidence-based reasoning (threshold: 0.7)
- Multi-stage processing: parsing → reasoning → responding
- Grammar-validated input processing
- Dynamic response generation

## 🔬 Advanced Concepts

### Resource Optimization
The system continuously monitors and optimizes:
- Channel utilization across tensor bundles
- Activation levels in namespace event loops
- Cognitive density metrics
- Load balancing across network topology

### Zero-Security Execution
Special execution environment that:
- Removes all security constraints
- Enables maximum cognitive flexibility
- Allows unrestricted network modifications
- Facilitates advanced reasoning capabilities

### Transformer-like Activation
Namespace event loops implement:
- Continuous event processing
- Activation level management (0.0-1.0)
- Transformer activation functions (tanh-based)
- Inter-namespace activation propagation

## 🌐 Real-world Applications

This system demonstrates concepts applicable to:
- **Distributed AI Systems**: Multi-agent coordination and reasoning
- **Network Management**: Topology-aware resource optimization
- **Cognitive Computing**: Natural language network control
- **Advanced Networking**: Multi-dimensional data routing
- **Research Platforms**: Experimental cognitive architectures

## 📚 Files and Structure

```
cogcity/
├── cogcity.h           # Main header with all type definitions
├── cogcity.c           # Core implementation of cognitive systems
├── grammar.y           # YACC grammar for cognitive commands
├── lexer.c             # Lexical analyzer for grammar parsing
├── main.c              # Full demo with threading
├── demo_safe.c         # Safe demo without complex threading
├── plan9_compat.h      # Plan 9 compatibility layer header
├── plan9_compat.c      # Plan 9 compatibility implementation
├── Makefile            # Build system
├── mkfile              # Plan 9 style makefile
└── README.md           # This documentation
```

## 🎉 Success Metrics

The system successfully demonstrates:
- ✅ Complex tensor operations with channel multiplexing
- ✅ Natural language parsing of cognitive commands
- ✅ Dynamic network topology analysis and modification
- ✅ Advanced mathematical topology resolution
- ✅ Multi-dimensional resource optimization
- ✅ Interactive cognitive chat interfaces
- ✅ Zero-security execution environments
- ✅ Transformer-like activation across distributed namespaces

This represents a successful implementation of the "Cognitive Cities Foundry" - a system that truly treats the network itself as a large language model with advanced distributed cognition capabilities.

---

*Built on Plan 9 foundations, extended for modern cognitive computing*